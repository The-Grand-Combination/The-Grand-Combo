## Dom Pedro II and early troubles, by Wyrm, may 2023

	#Sends and event to JAN to decide which year is it
	#This event is activated whenever the player selects the coup decision
	#And then chooses the coorect coup event to send.
	country_event = {
		id = 8001
		title = "Coup of Majority"
		desc = "DOMPEDROCORONATIONCHECK"

		is_triggered_only = yes

		allow_multiple_instances = no

		option = {
			name = "SENDEVENTTOBRAZIL"
			clr_global_flag = majority_coup_ongoing #IF emulation 
			any_country = { limit = { tag = BRZ NOT = { year = 1840 } } country_event = 8002 }
			any_country = { limit = { tag = BRZ year = 1840 NOT = { year = 1844 } } country_event = 8004 }
		}
	}

	#Asks for the coup while pedro is too young
	country_event = {
		id = 8002
		title = "EVTNAME8002"
		desc = "EVTDESC8002"
		picture = "young_dom_pedro"

		trigger = { tag = BRZ ai = yes NOT = { year = 1840 } } #This is normally a triggered event, but it will trigger for the AI once so it has a chance to pick it

		mean_time_to_happen = { years = 2 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8002"
			clr_global_flag = majority_coup_ongoing
			country_event = { id = 8003 days = 30 }
			ai_chance = { factor = 20 }
		}

		option = {
			name = "EVTOPTB8002"
			clr_global_flag = majority_coup_ongoing
			ai_chance = { factor = 80 }
		}
		
	}

	#Dom Pedro II coronation pre 14yo
	country_event = {
		id = 8003
		title = "EVTNAME8003"
		desc = "EVTDESC8003"
		picture = "dom_pedro_coronation_child"

		is_triggered_only = yes

		# Long live!
		option = {
			name = "EVTOPTA8003"
			prestige = 5
			plurality = 1
			any_pop = { militancy = -1 consciousness = 1 }
			set_country_flag = pedro_ii_crowned
			set_country_flag = child_emperor

			remove_country_modifier = national_confusion
			remove_country_modifier = expert_diplomat
			remove_country_modifier = successful_industrialist
			remove_country_modifier = ivory_tower_intellectual
			remove_country_modifier = man_of_the_people
			remove_country_modifier = landed_gentleman
			remove_country_modifier = military_man
			remove_country_modifier = lord_admiral
			remove_country_modifier = raving_loon
			remove_country_modifier = luddite
			remove_country_modifier = great_statesman
			remove_country_modifier = backroom_boy
			remove_country_modifier = great_reformer
			remove_country_modifier = gauche_buffoon
			remove_country_modifier = administrative_genius
			remove_country_modifier = visionary_thinker
			remove_country_modifier = competent_placeholder
			remove_country_modifier = imperious_autocrat
			remove_country_modifier = prince_of_terror
			remove_country_modifier = efficient_sociopath
			remove_country_modifier = pig_headed_isolationist
			remove_country_modifier = ambitious_union_boss
			remove_country_modifier = dour_economist
			remove_country_modifier = has_political_leader
		}
	}

	#Asks for the coup while as historical
	country_event = {
		id = 8004
		title = "EVTNAME8002"
		desc = "EVTDESC8004"
		picture = "teen_dom_pedro"

		trigger = { tag = BRZ
					NOT = { has_country_flag = pedro_ii_crowned }
					has_country_modifier = regency_modifier
					year = 1840
		}

		mean_time_to_happen = { days = 1 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8004" 
			clr_global_flag = majority_coup_ongoing2
			ai_chance = { factor = 20 }
		}

		option = {
			name = "EVTOPTB8004"
			country_event = { id = 8005 days = 30 }
			ai_chance = { factor = 80 }
		}
	}

	#Dom Pedro II historical coronation
	country_event = {
		id = 8005
		title = "EVTNAME8003"
		desc = "EVTDESC8005"
		picture = "dom_pedro_coronation_historical"

		is_triggered_only = yes

		# Long live!
		option = {
			name = "EVTOPTA8003"

			prestige = 10
			plurality = 3
			any_pop = { militancy = -1 consciousness = 1 }
			add_country_modifier = { name = dom_pedro_ii duration = -1 }
			remove_country_modifier = regency_modifier
			set_country_flag = pedro_ii_crowned
			
			remove_country_modifier = national_confusion
			remove_country_modifier = expert_diplomat
			remove_country_modifier = successful_industrialist
			remove_country_modifier = ivory_tower_intellectual
			remove_country_modifier = man_of_the_people
			remove_country_modifier = landed_gentleman
			remove_country_modifier = military_man
			remove_country_modifier = lord_admiral
			remove_country_modifier = raving_loon
			remove_country_modifier = luddite
			remove_country_modifier = great_statesman
			remove_country_modifier = backroom_boy
			remove_country_modifier = great_reformer
			remove_country_modifier = gauche_buffoon
			remove_country_modifier = administrative_genius
			remove_country_modifier = visionary_thinker
			remove_country_modifier = competent_placeholder
			remove_country_modifier = imperious_autocrat
			remove_country_modifier = prince_of_terror
			remove_country_modifier = efficient_sociopath
			remove_country_modifier = pig_headed_isolationist
			remove_country_modifier = ambitious_union_boss
			remove_country_modifier = dour_economist
			remove_country_modifier = has_political_leader
		}
	}

	#Dom Pedro II 18yo coronation
	country_event = {
		id = 8006
		title = "EVTNAME8003"
		desc = "EVTDESC8006"
		picture = "dom_pedro_coronation_older"

		trigger = { tag = BRZ 
					has_country_modifier = regency_modifier
					year = 1844
		}

		mean_time_to_happen = { months = 1 }

		fire_only_once = yes

		# Long live!
		option = {
			name = "EVTOPTA8003"
			prestige = 15
			any_pop = { militancy = -3 consciousness = 1 }
			plurality = 6
			set_country_flag = pedro_ii_crowned
			remove_country_modifier = regency_modifier
			add_country_modifier = { name = dom_pedro_ii duration = -1 }

			## Prime Ministers ##
			remove_country_modifier = national_confusion
			remove_country_modifier = expert_diplomat
			remove_country_modifier = successful_industrialist
			remove_country_modifier = ivory_tower_intellectual
			remove_country_modifier = man_of_the_people
			remove_country_modifier = landed_gentleman
			remove_country_modifier = military_man
			remove_country_modifier = lord_admiral
			remove_country_modifier = raving_loon
			remove_country_modifier = luddite
			remove_country_modifier = great_statesman
			remove_country_modifier = backroom_boy
			remove_country_modifier = great_reformer
			remove_country_modifier = gauche_buffoon
			remove_country_modifier = administrative_genius
			remove_country_modifier = visionary_thinker
			remove_country_modifier = competent_placeholder
			remove_country_modifier = imperious_autocrat
			remove_country_modifier = prince_of_terror
			remove_country_modifier = efficient_sociopath
			remove_country_modifier = pig_headed_isolationist
			remove_country_modifier = ambitious_union_boss
			remove_country_modifier = dour_economist
			remove_country_modifier = has_political_leader
		}
	}

	#Remove the regency at 14yo if he was crowned too young
	country_event = {
		id = 8007
		title = "EVTNAME8007"
		desc = "EVTDESC8007"
		picture = "teen_dom_pedro"

		trigger = { tag = BRZ 
					has_country_modifier = regency_modifier
					has_country_flag = child_emperor
					year = 1840
		}

		mean_time_to_happen = { days = 1 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8003"
			any_pop = { militancy = -1 consciousness = 1 }
			plurality = 1
			remove_country_modifier = regency_modifier
			clr_global_flag = majority_coup_ongoing
			clr_global_flag = majority_coup_ongoing2
			add_country_modifier = { name = dom_pedro_ii duration = -1 }

			remove_country_modifier = national_confusion
			remove_country_modifier = expert_diplomat
			remove_country_modifier = successful_industrialist
			remove_country_modifier = ivory_tower_intellectual
			remove_country_modifier = man_of_the_people
			remove_country_modifier = landed_gentleman
			remove_country_modifier = military_man
			remove_country_modifier = lord_admiral
			remove_country_modifier = raving_loon
			remove_country_modifier = luddite
			remove_country_modifier = great_statesman
			remove_country_modifier = backroom_boy
			remove_country_modifier = great_reformer
			remove_country_modifier = gauche_buffoon
			remove_country_modifier = administrative_genius
			remove_country_modifier = visionary_thinker
			remove_country_modifier = competent_placeholder
			remove_country_modifier = imperious_autocrat
			remove_country_modifier = prince_of_terror
			remove_country_modifier = efficient_sociopath
			remove_country_modifier = pig_headed_isolationist
			remove_country_modifier = ambitious_union_boss
			remove_country_modifier = dour_economist
			remove_country_modifier = has_political_leader
		}
	}

	#Gives a small buff if the player picked child pedro but actually played well
	country_event = {
		id = 8008
		title = "EVTNAME8008"
		desc = "EVTDESC8008"
		picture = "dom_pedro_ages"

		trigger = { year = 1844
					NOT = { year = 1845 month = 3 militancy = 2 }
					has_country_flag = child_emperor
		}

		mean_time_to_happen = { days = 1 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8003"
			add_country_modifier = { name = "child_emperor" duration = -1 }
		}

	}

	#Early Republican Coup
	country_event = {
		id = 8009
		title = "EVTNAME8009"
		desc = "EVTDESC8009"
		picture = "regencia"

		trigger = { tag = BRZ
					ai = yes
					NOT = { year = 1834 }
		}

		mean_time_to_happen = { years = 1 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8009"
			remove_country_modifier = dom_pedro_ii
			remove_country_modifier = regency_modifier
			government = democracy
			plurality = -10
			add_country_modifier = { name = small_immigration_boom_country duration = 365 }
			add_country_modifier = { name = republican_winds duration = 3650 }
			
			any_pop = { ideology = { factor = 0.02 value = liberal } }
			any_pop = { limit = { pop_majority_ideology = conservative } militancy = 3 }
			any_pop = { limit = { pop_majority_ideology = reactionary } militancy = 6 }
			any_pop = { limit = { pop_majority_ideology = liberal } militancy = -3 }
			## Government Flags ##
			clr_country_flag = communist_gov
			clr_country_flag = absolute_monarchy_gov
			clr_country_flag = semi_constitutional_monarchy_gov
			clr_country_flag = constitutional_monarchy_gov
			set_country_flag = democracy_gov
			clr_country_flag = presidential_dictatorship_gov
			clr_country_flag = fascist_gov
			clr_country_flag = anarcho_liberal_gov

			ai_chance = { factor = 10 }
		}

		option = {
			name = "EVTOPTB8009"
			ai_chance = { factor = 90 }
		}
	}

## Dom Pedro Misc Flavor

	#Dom Pedro II Weds, original VIP event by Pimparel
	country_event = { 
		id = 8010
		title = "EVTNAME8010"
		desc = "EVTDESC8010"
		picture = "DPII"
		fire_only_once = yes

		trigger = {
			has_country_flag = monarchy_gov
			SIC = {
				exists = yes
				has_country_flag = monarchy_gov
			}
			year = 1840
		}

		mean_time_to_happen = { months = 12 }

		option = {
			name = "EVTOPTA8010"
			prestige = 10
			relation = { who = SIC value = 75 }
			any_pop = { militancy = -1 }
		}
	}

	#Death of Dom Pedro II
	country_event = {
		id = 8011
		title = "EVTNAME8011"
		desc = "EVTDESC8011"
		picture = "BRZ_pedro_death"

		trigger = {
			has_country_modifier = dom_pedro_ii
			year = 1880
			has_country_flag = monarchy_gov
		}

		mean_time_to_happen = { years = 20
								modifier = { factor = 0.5 year = 1890 }
								modifier = { factor = 0.5 year = 1895 }
								modifier = { factor = 0.5 year = 1900 }
								modifier = { factor = 0.2 year = 1905 }
								modifier = { factor = 0.1 year = 1910 }
		}

		fire_only_once = yes

		immediate = { remove_country_modifier = dom_pedro_ii }

		# He will be missed.
		option = {
			name = "EVTOPTA8011"
			prestige = 10
			plurality = -1
			add_country_modifier = { name = national_instability duration = 365 }
			aristocrats = {
				militancy = 3
				consciousness = 3
			}

			ai_chance = {
				factor = 50
				modifier = {
					factor = 0
					sphere_owner = { has_country_flag = democracy_gov }
				}
				modifier = {
					factor = 0
					sphere_owner = { has_country_flag = democracy_gov }
				}
			}
		}

		# Abolish Monarchy
		option = {
			name = "EVTOPT8011"
			prestige = 20
			plurality = -5
			government = democracy
			add_country_modifier = { name = small_immigration_boom_country duration = 365 }
			election = yes
			## Government Flags ##
			set_country_flag = democracy_gov
			clr_country_flag = communist_gov
			clr_country_flag = absolute_monarchy_gov
			clr_country_flag = semi_constitutional_monarchy_gov
			clr_country_flag = constitutional_monarchy_gov
			clr_country_flag = presidential_dictatorship_gov
			clr_country_flag = fascist_gov
			clr_country_flag = anarcho_liberal_gov

			ai_chance = { factor = 50
				modifier = { factor = 0 rank = 8 }
				modifier = { factor = 0.5 rank = 16 }
				modifier = { factor = 0.5 plurality = 50 }
				modifier = { factor = 0.5 plurality = 70 }
				modifier = { factor = 2 NOT = { plurality = 25 } }
				modifier = { factor = 4 NOT = { plurality = 15 } } #evil, just like real life
				modifier = { factor = 2 NOT = { rank = 25 } }
				modifier = { factor = 4 NOT = { rank = 45 } }
			}
		}
	}

	#Sanity check event to remove the Dom Pedro II modifier if Brazil is not a monarchy.
	country_event = {

		id = 8012
		title = "EVTNAME8012"
		desc = "EVTDESC8012"
		picture = "DPII"

		trigger = {
			has_country_modifier = dom_pedro_ii
			NOT = {
				has_country_flag = monarchy_gov
			}
		}

		mean_time_to_happen = { days = 7 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8012"
			remove_country_modifier = dom_pedro_ii
		}
	}

	#Pedro II travels the world, egypt
	country_event = {
		id = 8013
		title = "EVTNAME8013"
		desc = "EVTDESC8013"
		picture = "dom_pedro_travels_eg"

		trigger = {
			has_country_modifier = dom_pedro_ii
			nationalism_n_imperialism = 1
			1750 = { NOT = { owner = { war_with = THIS } } }
		}

		mean_time_to_happen = {
			years = 12
		}

		fire_only_once = yes

		option = {
			name = "EVTOPTA8013"
			prestige = 4
			random_country = {
				limit = {
					owns = 1750
				}
				relation = { who = THIS value = 15 }
			}
		}
	}

	#Pedro II travels the world, pompeii
	country_event = {
		id = 8014
		title = "EVTNAME8013"
		desc = "EVTDESC8013"
		picture = "dom_pedro_travels_pompeii"

		trigger = {
			has_country_modifier = dom_pedro_ii
			nationalism_n_imperialism = 1
			754 = { NOT = { owner = { war_with = THIS } } }
		}

		mean_time_to_happen = {
			years = 12
		}

		fire_only_once = yes

		option = {
			name = "EVTOPTA8013"
			prestige = 4
			random_country = {
				limit = {
					owns = 754
				}
				relation = { who = THIS value = 15 }
			}
		}
	}

	#Pedro II travels the world, USA
	country_event = {
		id = 8015
		title = "EVTNAME8013"
		desc = "EVTDESC8013"
		picture = "dom_pedro_travels_USA"

		trigger = {
			has_country_modifier = dom_pedro_ii
			nationalism_n_imperialism = 1
			USA = { NOT = { war_with = THIS } }
		}

		mean_time_to_happen = {
			years = 12
		}

		fire_only_once = yes

		option = {
			name = "EVTOPTA8013"
			prestige = 5
			USA = { relation = { who = THIS value = 15 } }
		}
	}

#Revolução Farroupilha 

	# Custom Civil War System
	country_event = {
		id = 8100
		title = "EVTNAME8100"
		desc = "EVTDESC8100"
		picture = "batalha_farroupilha"

		trigger = {
			has_country_flag = farroupilha_ongoing
			war_with = RGS
			RGS = { any_owned_province = { NOT = { province_id = 2461 } controlled_by = THIS province_control_days = 90 } }
		}

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8100"
			plurality = 0.1
			RGS = { any_owned = { limit = { NOT = { province_id = 2461 } controlled_by = THIS province_control_days = 90 }
								  secede_province = THIS
				 	}
			}
		}
	}
	
	#Reverse Flip
	country_event = {
		id = 8101
		title = "EVTNAME8101"
		desc = "EVTDESC8101"
		picture = "farrapos_charge"

		trigger = {
			has_country_flag = farroupilha_ongoing
			war_with = RGS
			any_owned_province = { controlled_by = RGS is_core = RGS province_control_days = 90 }
		}

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8101"
			any_owned = { limit = { controlled_by = RGS is_core = RGS province_control_days = 90 }
									plurality = -0.1
								    secede_province = RGS
			}
		}
	}

	#Tomada da Laguna, Juliana Republic 
	country_event = {
		id = 8102
		title = "EVTNAME8102"
		desc = "EVTDESC8102"
		picture = "tomada_da_laguna"

		trigger = {
			BRZ = { has_country_flag = farroupilha_ongoing }
			tag = RGS
			war_with = BRZ
			2461 = { controlled_by = THIS province_control_days = 90 }
		}

		fire_only_once = yes

		option = {
			name = "EVTOPTA8102"
			create_alliance = RJL
			BRZ = { country_event = 8103 }
		}

		option = {
			name = "EVTOPTB8102"
			plurality = -0.1
			BRZ = { 2461 = { secede_province = RGS } }
		}
	}

	#The Juliana Republic goes independent
	country_event = {
		id = 8103
		title = "EVTNAME8103"
		desc = "EVTDESC8103"
		picture = "tomada_da_laguna"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8103"
			2461 = { secede_province = RJL }
			war = { target = RJL
					attacker_goal = { casus_belli = conquest }
					defender_goal = { casus_belli = status_quo }
			}
			plurality = -1
		}
	}

	# Queda da Laguna
	country_event = {
		id = 8104
		title = "EVTNAME8104"
		desc = "EVTDESC8104"
		picture = "queda_da_laguna"

		trigger = {
			has_country_flag = farroupilha_ongoing
			2461 = { OR = { owned_by = RGS owned_by = RJL } controlled_by = THIS province_control_days = 90 }
		}

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8104"
			plurality = 0.5
			2461 = { secede_province = THIS }
		}
	}

	#Garibaldi becomes a general for RGS
	country_event = {

		id = 8105
		title = "EVTNAME8105"
		desc = "EVTDESC8105"
		picture = "garibaldi_farroupilha"

		trigger = {
			BRZ = { has_country_flag = farroupilha_ongoing }
			tag = RGS
			year = 1839
		}

		fire_only_once = yes

		option = {
			name = "EVTOPTA8105"
			define_general = {
				name = "Giuseppe Garibaldi"
				personality = bold
				background = keen
			}
			small_arms = 25
			canned_food = 25
			ammunition = 20
			money = 50
		}
	}

	#Farrapos Negotiation trigger
	country_event = {
		id = 8106
		title = "Farrapos Negotiation"
		desc = "FARRAPOSNEGOTIATION"
		is_triggered_only = yes
		
		allow_multiple_instances = no

		option = {
			name = "SENDEVENTTOBRAZIL"
			any_country = { limit = { tag = BRZ has_country_flag = farroupilha_negotiation2 } 
							2703 = { secede_province = JAN }
							2703 = { state_scope = { change_region_name = "We tried negotiating §Rway too many times§!. They want to negotiate no further.§b" } } 
							2703 = { secede_province = QQQ }
							BRZ = { clr_country_flag = farroupilha_negotiation2
									set_country_flag = farroupilha_negotiation3 }
			}
			any_country = { limit = { tag = BRZ has_country_flag = farroupilha_negotiation1 } 
							2703 = { secede_province = JAN }
							2703 = { state_scope = { change_region_name = "They are §Rskeptical§! about negotiation, we have negotiated twice and failed, if we fail again I doubt they will want to try again.§b" } }
							2703 = { secede_province = QQQ } 
							BRZ = { clr_country_flag = farroupilha_negotiation1
									set_country_flag = farroupilha_negotiation2 }
			}
			any_country = { limit = { tag = BRZ has_country_flag = farroupilha_negotiation0 } 
							2703 = { secede_province = JAN }
							2703 = { state_scope = { change_region_name = "They are §Yreluctant§! to negotiate, we have negotiated once and failed, we should be careful the next time.§b" } }
							2703 = { secede_province = QQQ }
							BRZ = { clr_country_flag = farroupilha_negotiation0
									set_country_flag = farroupilha_negotiation1 }
			}
			
		    any_country = { limit = { tag = RGS num_of_cities = 5 NOT = { has_country_flag = negotiation_sent } }
							BRZ = { country_event = 8107 }
							RGS = { set_country_flag = negotiation_sent }
			}

			any_country = { limit = { tag = RGS num_of_cities = 3 NOT = { has_country_flag = negotiation_sent } } 
							BRZ = { country_event = 8108 }
							RGS = { set_country_flag = negotiation_sent }
			}

			any_country = { limit = { tag = RGS num_of_cities = 1 NOT = { has_country_flag = negotiation_sent } } 
							BRZ = { country_event = 8109 }
							RGS = { set_country_flag = negotiation_sent }
			}

			RGS = { clr_country_flag = negotiation_sent }
		}
	}

	#Farroupilha Negotiation 1, RGS winning
	country_event = {
		id = 8107
		title = "EVTNAME8107"
		desc = "EVTDESC8107"
		picture = "porongos_letter"

		is_triggered_only = yes

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8107"
			end_war = RGS
			inherit = RGS
			political_reform = federalism
			add_country_modifier = { name = farrapos_compromise_strong duration = 3650 }
			plurality = -5
			prestige = -5
			any_pop = { limit = { pop_majority_ideology = conservative } militancy = 4 }
			any_pop = { limit = { pop_majority_ideology = reactionary } militancy = 6 }
			any_pop = { limit = { pop_majority_ideology = liberal } militancy = -3 }
			set_country_flag = farrapos_demands_enforced
			clr_global_flag = farroupilha_negotiating
		}

		option = {
			name = "EVTOPTB8107"
			prestige = 1
			clr_global_flag = farroupilha_negotiating
		}
	}

	#Farroupilha Negotiation 2, neutral
	country_event = {
		id = 8108
		title = "EVTNAME8107"
		desc = "EVTNAME8108"
		picture = "porongos_letter"

		is_triggered_only = yes

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8108"
			end_war = RGS
			inherit = RGS
			plurality = -2
			prestige = -2
			add_country_modifier = { name = farrapos_compromise_mild duration = 3650 }
			any_pop = { limit = { pop_majority_ideology = conservative } militancy = 2 }
			any_pop = { limit = { pop_majority_ideology = reactionary } militancy = 4 }
			any_pop = { limit = { pop_majority_ideology = liberal } militancy = -1 }
			set_country_flag = farrapos_demands_enforced
			clr_global_flag = farroupilha_negotiating
		}

		option = {
			name = "EVTOPTB8108"
			prestige = 1
			clr_global_flag = farroupilha_negotiating
		}
	}

	#Farroupilha Negotiation 3, Brazil winning
	country_event = {
		id = 8109
		title = "EVTNAME8107"
		desc = "EVTNAME8109"
		picture = "porongos_letter"

		is_triggered_only = yes

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8109"
			end_war = RGS
			inherit = RGS
			prestige = 5
			add_country_modifier = { name = farrapos_compromise_fair duration = 3650 }
			any_pop = { limit = { pop_majority_ideology = conservative } militancy = 1 }
			any_pop = { limit = { pop_majority_ideology = reactionary } militancy = 2 }
			any_pop = { limit = { pop_majority_ideology = liberal } militancy = -1 }
			set_country_flag = farrapos_demands_enforced
			clr_global_flag = farroupilha_negotiating
		}

		option = {
			name = "EVTOPTB8109"
			badboy = 2
			clr_global_flag = farroupilha_negotiating
		}
	}

	#Farroupilha end
	country_event = {
		id = 8117
		title = "FARRAPOSEND"
		desc = "FARRAPOSEND"

		trigger = { BRZ = { has_country_flag = farroupilha_ongoing }
					tag = JAN
					NOT = { BRZ = { war_with = RGS } }
		}

		mean_time_to_happen = { days = 1 }

		fire_only_once = yes

		immediate = { BRZ = { clr_country_flag = farroupilha_ongoing } }

		option = {
			name = "End Selection"
			#Brazil win, total victory or good treaty
			any_country = { limit = { tag = BRZ owns = 2463 NOT = { OR = { has_country_modifier = farrapos_compromise_strong has_country_modifier = farrapos_compromise_mild } } } 
							country_event = 8111
			}
			#RGS win
			any_country = { limit = { tag = RGS exists = yes } 
							country_event = 8112
			}
			#Brazil win via treaty, bad treaty
			any_country = { limit = { tag = BRZ owns = 2463 has_country_modifier = farrapos_compromise_strong }
							country_event = 8114
			}
			#Brazil win via treaty, ok treaty
			any_country = { limit = { tag = BRZ owns = 2463 has_country_modifier = farrapos_compromise_mild }
							country_event = 8115
			}
		}
	}

	#The end of the farroupilha, Brazil victory/Fair treaty
	country_event = {
		id = 8111
		title = "EVTNAMEFARROUPILHAEND"
		desc = "EVTDESC8111"
		picture = "brazil_prevails"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8111"
			plurality = 5
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 2 } }
			prestige = 5
		}

		option = {
			name = "EVTOPTB8111"
			plurality = 3
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 5 } }
			prestige = 5
		}
	}

	#The end of the farroupilha, RGS victory
	country_event = {
		id = 8112
		title = "EVTNAME8112"
		desc = "EVTDESC8112"
		picture = "rgs_prevails"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8112"
			plurality = 5
			prestige = 10
			add_country_modifier = { name = "global_baby_boom_small" duration = 3650 }
			BRZ = { country_event = 8113 }
			country_event = { id = 8116 days = 10 }
		}
	}

	#The end of the farroupilha, BRZ defeat event
	country_event = {
		id = 8113
		title = "EVTNAMEFARROUPILHAEND"
		desc = "EVTDESC8113"
		picture = "rgs_prevails"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8113"
			plurality = -14
			prestige = -2
			badboy = -2
			RGS = { any_owned = { remove_core = BRZ } }
			set_country_flag = south_fully_seceded
			set_country_flag = a_revolution_won
		}

		option = {
			name = "EVTOPTB8113"
			plurality = -7
			prestige = -10
			set_country_flag = a_revolution_won
		}
	}

	#The end of the farroupilha, bad treaty
	country_event = {
		id = 8114
		title = "EVTNAMEFARROUPILHAEND"
		desc = "EVTDESC8114"
		picture = "brazil_prevails"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8111"
			plurality = 5
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 2 } }
			prestige = 5
		}

		option = {
			name = "EVTOPTB8111"
			plurality = 3
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 5 } }
			prestige = 5
		}
	}

	#The end of the farroupilha, ok treaty
	country_event = {
		id = 8115
		title = "EVTNAMEFARROUPILHAEND"
		desc = "EVTDESC8114"
		picture = "brazil_prevails"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8111"
			plurality = 5
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 2 } }
			prestige = 5
		}

		option = {
			name = "EVTOPTB8111"
			plurality = 3
			any_owned = { limit = { is_core = RGS } any_pop = { militancy = 5 } }
			prestige = 5
		}
	}
	
	#The Juliana Question, if RGS win but kept Juliana they have an last chance to free it
	country_event = {
		id = 8116
		title = "EVTNAME8116"
		desc = "EVTDESC8116"
		picture = "meeting"

		is_triggered_only = yes

		option = {
			name = "EVTOPTA8116"
			BRZ_2461 = { add_core = RGS }
			2461 = { any_pop = { militancy = 6 } }
			plurality = 3
		}

		option = {
			name = "EVTOPTB8116"
			2461 = { secede_province = RJL }
			any_pop = { militancy = 2 consciousness = 2 }
			plurality = -2
		}
	}

	#8117 ocuppied, see above

	# Redirect via --- to hide tooltip
	country_event = { 
		id = 8118
		title = "The Poncho Verde Treaty"
		desc = ""
		picture = ""

		is_triggered_only = yes

		option = {
			name = ""
			JAN = { country_event = 8106 }
		}
	}

## Cabanos

	# Custom Civil War System
	country_event = {
		id = 8150
		title = "EVTNAME8150"
		desc = "EVTDESC8150"
		picture = "cabanos_battle"

		trigger = {
			has_country_flag = cabanagem_ongoing
			tag = BRZ
			war_with = GPR
			GPR = { any_owned_province = { controlled_by = THIS province_control_days = 15 } }
		}

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8100"
			GPR = { any_owned = { limit = { controlled_by = THIS province_control_days = 15 }
								  secede_province = THIS
								  THIS = { plurality = 0.1 }
								  state_scope = { any_pop = { militancy = -0.5 } }
				 	}
			}
		}
	}

	# Reverse Flip
	country_event = {
		id = 8151
		title = "EVTNAME8151"
		desc = "EVTDESC8151"
		picture = "cabanos"

		trigger = {
			has_country_flag = cabanagem_ongoing
			tag = BRZ
			war_with = GPR
			any_owned_province = { controlled_by = GPR is_core = GPR province_control_days = 90 any_neighbor_province = { owned_by = GPR } }
		}

		mean_time_to_happen = { days = 90 }

		allow_multiple_instances = no

		option = {
			name = "EVTOPTA8100"
			random_owned = { limit = { controlled_by = GPR is_core = GPR province_control_days = 80 any_neighbor_province = { owned_by = GPR } }
								  state_scope = { any_pop = { militancy = 2 consciousness = 1 } }
								  secede_province = GPR
								  THIS = { plurality = -0.5 }
				 	}
			}
	}

	#The End of the Cabanagem
	country_event = {
		id = 8152
		title = "EVTNAME8152"
		desc = "EVTDESC8152"
		picture = "brazil_prevails"

		trigger = {
			has_country_flag = cabanagem_ongoing
			tag = BRZ
			GPR = { exists = no }
		}

		mean_time_to_happen = { days = 10 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8152"
			prestige = 5
			any_owned = { limit = { is_core = GPR } any_pop = { limit = { agree_with_ruling_party = no } militancy = 1 } }
			clr_country_flag = cabanagem_ongoing
		}
	}


	#The End of the Cabanagem, bad ending
	country_event = {
		id = 8153
		title = "EVTNAME8153"
		desc = "EVTDESC8153"
		picture = "cabanagem"

		trigger = {
			has_country_flag = cabanagem_ongoing
			tag = BRZ
			GPR = { exists = yes NOT = { war_with = BRZ } }
		}

		mean_time_to_happen = { days = 10 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8153"
			prestige = -3
			plurality = -3
			badboy = -1
			GPR = { any_owned = { remove_core = BRZ } }
			clr_country_flag = cabanagem_ongoing
			ai_chance = { factor = 80 }
		}
		
		option = {
			name = "EVTOPTB8153"
			prestige = -4
			plurality = -2
			clr_country_flag = cabanagem_ongoing
			ai_chance = { factor = 20 }
		}
	}

	#Claim Rio Parana
	country_event = {
		id = 8200
		title = "Claim Rio Parana"
		desc = "EVTDESC8153"

		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = ""
			2459 = { add_core = BRC } # Easterm Misiones
			2462 = { add_core = BRC } #
			ARG_2554 = { add_core = BRC } # Misiones
			ARG_2356 = { add_core = BRC } # Corrientes
			ARG_2360 = { add_core = BRC } # Entre Rios
		}
	}
	
	#8300 reserved for slavery events

	##Random Flavor

	#O Guarani
	country_event = {
		id = 8400
		title = "EVTNAME8400"
		desc = "EVTDESC8400"
		picture = "theatre"

		trigger = {
			tag = BRZ
			romanticism = 1 
			invention = romanticist_literature #the novel on which the opera is based on was a romanticist novel
		}

		mean_time_to_happen = { months = 12 }

		fire_only_once = yes

		option = {
			name = "EVTOPTA8400"
			prestige_factor = 0.1
			any_pop = { limit = { is_culture_group = native_american } militancy = -2 consciousness = 2 }
			any_pop = { limit = { pop_majority_ideology = conservative NOT = { is_culture_group = native_american } } militancy = 0.5 consciousness = 1 }
		}

		option = {
			name = "EVTOPTB8400"
			prestige_factor = 0.05
			any_pop = { limit = { is_culture_group = native_american } militancy = 2 consciousness = 3 }
			any_pop = { limit = { pop_majority_ideology = conservative NOT = { is_culture_group = native_american } } militancy = -1 }
		}
	}