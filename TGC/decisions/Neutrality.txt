political_decisions = {

# NOTE: When adding a possibility of neutrality for a country, it should be added in 3 places:
# 1. In the conditions and effects of enforce_neutrality_on_player where, due to the way scopes work, we can't make it work without explicitly checking individual countries.
# 2. A decision to violate their neutrality in the Neutrality Violation section, specific to that country.
# 3. In the conquest CB in cb_types.txt, under the can_use condition, in the section checking for the neutrality_violated flag.

## Neutrality Status ##

	declare_neutrality = {
		potential = {
			has_country_flag = neutrality_candidate
			NOT = {
				has_country_modifier = neutrality
				has_country_flag = neutrality_violated
			}
		}
		allow = {
			NOT = { any_owned_province = { NOT = { is_core = THIS } } }
			NOT = { badboy = 1 }
			war = no
		}

		effect = {
			add_country_modifier = {
				name = neutrality
				duration = -1
			}
		}

		ai_will_do = {
			factor = 1
			modifier = { factor = 0 ruling_party_ideology = fascist }
			modifier = { factor = 0 has_country_flag = communist_gov }
		}
	}

	abandon_neutrality = {
		picture = declare_neutrality
		potential = {
			has_country_modifier = neutrality
		}

		allow = {
			prestige = 20
		}

		effect = {
			clr_country_flag = neutrality_candidate
			prestige = -20
			badboy = 5
			remove_country_modifier = neutrality
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					badboy = 0.8
					ruling_party_ideology = fascist
					has_country_flag = communist_gov
				}
			}
			modifier = { # AI OPMs will never abandon neutrality because obviously
				factor = 0
				NOT = { num_of_cities = 2 }
			}
		}
	}

## Neutrality Enforcement ##

	#Description: End alliances, military access and wars for AI neutral nations.
	enforce_neutrality = {
		picture = declare_neutrality
		potential = {
			has_country_modifier = neutrality
			ai = yes
		}

		allow = {
			OR = {
				NOT = { has_country_modifier = neutrality_timer }
				war = yes
			}
		}

		effect = {
			any_country = {
				limit = { NOT = { vassal_of = THIS } alliance_with = THIS }
				relation = { who = THIS value = -80 }
				leave_alliance = THIS
			}
			any_country = {
				limit = { NOT = { vassal_of = THIS } military_access = THIS }
				relation = { who = THIS value = -30 }
				end_military_access = THIS
			}
			any_country = {
				limit = { war_with = THIS }
				relation = { who = THIS value = 100 }
				end_war = THIS
			}
			add_country_modifier = { name = neutrality_timer duration = 7 }
		}
	}

	#Description: End alliances, military access and wars for Player neutral nations.
	enforce_neutrality_on_player = {
		picture = declare_neutrality
		potential = {
			OR = {
				ADO = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = ADO }
						any_neighbor_country = { NOT = { vassal_of = ADO } military_access = ADO }
						any_greater_power = { alliance_with = ADO }
						any_neighbor_country = { alliance_with = ADO }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
				ATH = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = ATH }
						any_neighbor_country = { NOT = { vassal_of = ATH } military_access = ATH }
						any_greater_power = { alliance_with = ATH }
						any_neighbor_country = { alliance_with = ATH }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
				BEL = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = BEL }
						any_neighbor_country = { NOT = { vassal_of = BEL } military_access = BEL }
						any_greater_power = { alliance_with = BEL }
						any_neighbor_country = { alliance_with = BEL }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
				LIE = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = LIE }
						any_neighbor_country = { NOT = { vassal_of = LIE } military_access = LIE }
						any_greater_power = { alliance_with = LIE }
						any_neighbor_country = { alliance_with = LIE }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
				SMR = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = SMR }
						any_neighbor_country = { NOT = { vassal_of = SMR } military_access = SMR }
						any_greater_power = { alliance_with = SMR }
						any_neighbor_country = { alliance_with = SMR }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
				SWI = {
					has_country_modifier = neutrality
					ai = no
					OR = {
						any_greater_power = { military_access = SWI }
						any_neighbor_country = { NOT = { vassal_of = SWI } military_access = SWI }
						any_greater_power = { alliance_with = SWI }
						any_neighbor_country = { alliance_with = SWI }
						war = yes
					}
					OR = {
						NOT = { has_country_modifier = neutrality_timer }
						war = yes
					}
				}
			}
			ai = yes
		}

		allow = {

		}

		effect = {
			ADO = {
				any_country = {
					limit = { NOT = { vassal_of = ADO } alliance_with = ADO }
					relation = { who = ADO value = -80 }
					leave_alliance = ADO
				}
				any_country = {
					limit = { NOT = { vassal_of = ADO } military_access = ADO }
					relation = { who = ADO value = -30 }
					end_military_access = ADO
				}
				any_country = {
					limit = { war_with = ADO }
					relation = { who = ADO value = 100 }
					end_war = ADO
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
			ATH = {
				any_country = {
					limit = { NOT = { vassal_of = ATH } alliance_with = ATH }
					relation = { who = ATH value = -80 }
					leave_alliance = ATH
				}
				any_country = {
					limit = { NOT = { vassal_of = ATH } military_access = ATH }
					relation = { who = ATH value = -30 }
					end_military_access = ATH
				}
				any_country = {
					limit = { war_with = ATH }
					relation = { who = ATH value = 100 }
					end_war = ATH
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
			BEL = {
				any_country = {
					limit = { NOT = { vassal_of = BEL } alliance_with = BEL }
					relation = { who = BEL value = -80 }
					leave_alliance = BEL
				}
				any_country = {
					limit = { NOT = { vassal_of = BEL } military_access = BEL }
					relation = { who = BEL value = -30 }
					end_military_access = BEL
				}
				any_country = {
					limit = { war_with = BEL }
					relation = { who = BEL value = 100 }
					end_war = BEL
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
			LIE = {
				any_country = {
					limit = { NOT = { vassal_of = LIE } alliance_with = LIE }
					relation = { who = LIE value = -80 }
					leave_alliance = LIE
				}
				any_country = {
					limit = { NOT = { vassal_of = LIE } military_access = LIE }
					relation = { who = LIE value = -30 }
					end_military_access = LIE
				}
				any_country = {
					limit = { war_with = LIE }
					relation = { who = LIE value = 100 }
					end_war = LIE
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
			SMR = {
				any_country = {
					limit = { NOT = { vassal_of = SMR } alliance_with = SMR }
					relation = { who = SMR value = -80 }
					leave_alliance = SMR
				}
				any_country = {
					limit = { NOT = { vassal_of = SMR } military_access = SMR }
					relation = { who = SMR value = -30 }
					end_military_access = SMR
				}
				any_country = {
					limit = { war_with = SMR }
					relation = { who = SMR value = 100 }
					end_war = SMR
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
			SWI = {
				any_country = {
					limit = { NOT = { vassal_of = SWI } alliance_with = SWI }
					relation = { who = SWI value = -80 }
					leave_alliance = SWI
				}
				any_country = {
					limit = { NOT = { vassal_of = SWI } military_access = SWI }
					relation = { who = SWI value = -30 }
					end_military_access = SWI
				}
				any_country = {
					limit = { war_with = SWI }
					relation = { who = SWI value = 100 }
					end_war = SWI
				}
				add_country_modifier = { name = neutrality_timer duration = 7 }
			}
		}

		ai_will_do = { factor = 1 }
	}

## Neutrality Violation ##

	#Andorra starts with de-facto neutrality due to both of its neighbours being sovereigns over them
	violate_neutrality_ADO = {
		picture = declare_neutrality
		alert = no
		potential = {
			neighbour = ADO
			NOT = {
				tag = FRA
				tag = SPA
			}
			ADO = { has_country_modifier = neutrality }
		}

		allow = {
			ADO = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = ADO
				truce_with = ADO
				alliance_with = ADO
			}
		}

		effect = {
			badboy = 5
			set_country_flag = andorra_neutrality_violator
			ADO = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = ADO value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = ADO
						is_sphere_leader_of = ADO
						relation = { who = ADO value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = ADO
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Athos starts with neutrality
	violate_neutrality_ATH = {
		picture = declare_neutrality
		alert = no
		potential = {
			ai = no
			ATH = {
				neighbour = THIS
				has_country_modifier = neutrality
			}
		}

		allow = {
			ATH = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = ATH
				truce_with = ATH
				alliance_with = ATH
			}
		}

		effect = {
			badboy = 5
			set_country_flag = athos_neutrality_violator
			ATH = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = ATH value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = ATH
						is_sphere_leader_of = ATH
						relation = { who = ATH value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = ATH
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Belgium gets neutrality after historical treaty of London
	violate_neutrality_BEL = {
		picture = declare_neutrality
		alert = no
		potential = {
			BEL = {
				neighbour = THIS
				has_country_modifier = neutrality
			}
		}

		allow = {
			BEL = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = BEL
				truce_with = BEL
				alliance_with = BEL
			}
		}

		effect = {
			badboy = 10
			set_country_flag = belgian_neutrality_violator
			BEL = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = BEL value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = BEL
						is_sphere_leader_of = BEL
						relation = { who = BEL value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = BEL
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					AND = {
						tag = GER
						year = 1900
						war_with = FRA
					}
				}
			}
		}
	}

	#Liechtenstein declares neutrality after brother's war if Austria loses
	violate_neutrality_LIE = {
		picture = declare_neutrality
		alert = no
		potential = {
			ai = no
			LIE = {
				neighbour = THIS
				has_country_modifier = neutrality
			}
		}

		allow = {
			LIE = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = LIE
				truce_with = LIE
				alliance_with = LIE
			}
		}

		effect = {
			badboy = 4
			set_country_flag = liechtenstein_neutrality_violator
			LIE = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = LIE value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = LIE
						is_sphere_leader_of = LIE
						relation = { who = LIE value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = LIE
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#San Marino starts with de-facto neutrality for gameplay purposes
	violate_neutrality_SMR = {
		picture = declare_neutrality
		alert = no
		potential = {
			ai = no
			SMR = {
				neighbour = THIS
				has_country_modifier = neutrality
			}
		}

		allow = {
			SMR = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = SMR
				truce_with = SMR
				alliance_with = SMR
			}
		}

		effect = {
			badboy = 5
			set_country_flag = sanmarinese_neutrality_violator
			SMR = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = SMR value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = SMR
						is_sphere_leader_of = SMR
						relation = { who = SMR value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = SMR
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Switzerland starts with neutrality
	violate_neutrality_SWI = {
		picture = declare_neutrality
		alert = no
		potential = {
			SWI = {
				neighbour = THIS
				has_country_modifier = neutrality
			}
		}

		allow = {
			SWI = { has_country_modifier = neutrality }
			war_policy = jingoism
			NOT = {
				is_sphere_leader_of = SWI
				truce_with = SWI
				alliance_with = SWI
			}
		}

		effect = {
			badboy = 15
			set_country_flag = swiss_neutrality_violator
			SWI = {
				set_country_flag = neutrality_violated
				remove_country_modifier = neutrality
				relation = { who = THIS value = -200 }
			}
			diplomatic_influence = { who = SWI value = -200 }
			any_country = {
				limit = {
					OR = {
						alliance_with = SWI
						is_sphere_leader_of = SWI
						relation = { who = SWI value = 50 }
					}
				}
				leave_alliance = THIS
				relation = { who = THIS value = -200 }
				casus_belli = {
					target = THIS
					type = cut_down_to_size
					months = 60
				}
			}
			casus_belli = {
				target = SWI
				type = conquest
				months = 60
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					NOT = {
						tag = FRA
					}
					NOT = {
						owns = 574
						owns = 392
						owns = 397
						owns = 466
					}
				}
			}
		}
	}
}
